{"version":3,"sources":["webpack:///./node_modules/ppv-gatsby-components/src/pagecomponents/TagPage/TagPage.tsx"],"names":["Tag","props","render","posts","this","data","edges","map","e","node","sort","a","b","fields","timestamp","categories","nestCategories","authors","header","url","urlJoin","context","tag","slug","description","name","type","title","tags","sidebar","isFixed","React","Component","Page","pageContext","location","pageQuery"],"mappings":"8TA4BO,IAAMA,EAAb,Y,QAEE,WAAYC,GACZ,OACE,YAAMA,IADR,KAHF,O,EAAA,G,EAAA,G,6EAAA,YAMEC,OAAA,WAEE,IAAIC,EAAQC,KAAKH,MAAMI,KAAKF,MAAMG,MAC/BC,KAAI,SAAAC,GAAC,OAAIA,EAAEC,QACXC,MAAK,SAACC,EAAEC,GACP,OAAGD,EAAEE,OAAOC,UAAYF,EAAEC,OAAOC,WACvB,EAED,KAETC,EAAaC,YAAeZ,KAAKH,MAAMI,KAAKU,WAAWT,MAAMC,KAAI,SAAAC,GAAC,OAAIA,EAAEC,SACxEQ,EAAUb,KAAKH,MAAMI,KAAKY,QAAQX,MAAMC,KAAI,SAAAC,GAAC,OAAIA,EAAEC,QAEnDS,EAAuB,CACzBC,IAAKC,YAAQ,MAAOhB,KAAKH,MAAMoB,QAAQC,IAAIC,MAC3CC,YAAa,cAAcpB,KAAKH,MAAMoB,QAAQC,IAAIG,KAClDC,KAAM,SACNC,MAAUvB,KAAKH,MAAMoB,QAAQC,IAAIG,KAA5B,0DACLG,KAAM,CAACxB,KAAKH,MAAMoB,QAAQC,IAAIG,OAGhC,OACE,kBAAC,IAAD,CACAP,OAAQA,EACRW,QACE,kBAAC,IAAD,CAASC,SAAS,GAChB,kBAAC,IAAD,MACA,kBAAC,IAAD,MACA,kBAAC,IAAD,QAIJ,kBAAC,IAAD,CAAaH,MAAO,UAAUvB,KAAKH,MAAMoB,QAAQC,IAAIG,OACrD,kBAAC,IAAD,CAAUtB,MAAOA,EAAOY,WAAYA,EAAYE,QAASA,MAvC/D,GAAyBc,IAAMC,WAkDhBC,UALF,SAAC,GAAkC,IAAjCC,EAAiC,EAAjCA,YAAa7B,EAAoB,EAApBA,KAAM8B,EAAc,EAAdA,SAChC,OACE,kBAACnC,EAAD,CAAKK,KAAMA,EAAM8B,SAAUA,EAAUd,QAASa,KAM3C,IAAME,EAAY","file":"component---node-modules-ppv-gatsby-components-src-pagecomponents-tag-page-tag-page-tsx-fb1b082c67bb1f08a73c.js","sourcesContent":["import { graphql } from \"gatsby\";\r\nimport React from \"react\";\r\nimport { IQueryArrayResult, ICategory, IAuthor, IComment, ISpecialPage, ICustomerStory, IPost, ITag, IGatsbyLocation } from '../../interfaces';\r\nimport { ContentLayoutWithSidebar } from '../../components/Layout/ContentLayout';\r\nimport { SideBar } from \"../../components/SideBar/SideBar\";\r\nimport { getAuthor, nestCategories, urlJoin } from '../../tool';\r\nimport { SideBarQuickstart } from \"../../components/SideBar/SideBarQuickstart\";\r\nimport { SideBarHelp } from \"../../components/SideBar/SideBarHelp\";\r\nimport SideBarCategories from \"../../components/SideBar/SideBarCategories\";\r\nimport { PostPreview } from \"../../components/Post/PostPreview\";\r\nimport { CategoryBar } from \"../../components/CategoryBar/CategoryBar\";\r\nimport { EmptyContent } from \"../../components/Content/EmptyContent\";\r\nimport { PostList } from \"../../components/Post/PostList\";\r\nimport { IHeaderProps } from \"../../components/Layout/Header\";\r\n\r\ninterface IQueryResult\r\n{\r\n  data: {\r\n    posts: IQueryArrayResult<IPost>;\r\n    categories: IQueryArrayResult<ICategory>\r\n    authors: IQueryArrayResult<IAuthor>\r\n  }\r\n  context: {\r\n    tag: ITag\r\n  };\r\n  location: IGatsbyLocation;\r\n}\r\n\r\nexport class Tag extends React.Component<IQueryResult>\r\n{\r\n  constructor(props)\r\n  {\r\n    super(props);\r\n  }\r\n  render()\r\n  {\r\n    let posts = this.props.data.posts.edges\r\n      .map(e => e.node)\r\n      .sort((a,b) => {\r\n        if(a.fields.timestamp > b.fields.timestamp)\r\n          return -1\r\n        else\r\n          return 1;\r\n      });\r\n    let categories = nestCategories(this.props.data.categories.edges.map(e => e.node));\r\n    let authors = this.props.data.authors.edges.map(e => e.node);\r\n\r\n    let header: IHeaderProps = {\r\n      url: urlJoin(\"tag\", this.props.context.tag.slug),\r\n      description: `Posts Ã¼ber ${this.props.context.tag.name}`,\r\n      type: \"object\",\r\n      title: `${this.props.context.tag.name} Archive | Powerpivot Insights | Durchblick durch Daten`,\r\n      tags: [this.props.context.tag.name],\r\n    }\r\n\r\n    return (\r\n      <ContentLayoutWithSidebar \r\n      header={header}\r\n      sidebar={(\r\n        <SideBar isFixed={true}>\r\n          <SideBarQuickstart></SideBarQuickstart>\r\n          <SideBarHelp></SideBarHelp>\r\n          <SideBarCategories></SideBarCategories>\r\n        </SideBar>\r\n      )} \r\n      >\r\n      <CategoryBar title={\"Tags / \"+this.props.context.tag.name}></CategoryBar>\r\n      <PostList posts={posts} categories={categories} authors={authors}/>\r\n      </ContentLayoutWithSidebar>\r\n    )\r\n  }\r\n}\r\n\r\nconst Page = ({pageContext, data, location}) => {\r\n  return (\r\n    <Tag data={data} location={location} context={pageContext}></Tag>\r\n  )\r\n}\r\nexport default Page;\r\n\r\n\r\nexport const pageQuery = graphql`\r\n  query tagsPosts($tagSlug: String!, $now: Int!) {\r\n    posts: allMarkdownRemark(\r\n      filter: {\r\n        fileAbsolutePath: {\r\n          regex: \"/.*/data/posts/.*[.]md/\"\r\n        }, \r\n        frontmatter: {\r\n          tags: {eq: $tagSlug}\r\n        }\r\n        fields: {\r\n            publishTimestamp:{\r\n            lt: $now\r\n          }\r\n        }\r\n      }) {\r\n      edges {\r\n        node {\r\n          ...postShort\r\n        }\r\n      }\r\n    }\r\n    ...categories\r\n    ...authorsMarkdown\r\n  }\r\n`\r\n"],"sourceRoot":""}